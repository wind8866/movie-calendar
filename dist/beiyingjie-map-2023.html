<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <link rel="icon" href="logo.svg" />
    <meta name="description" content="2023åŒ—äº¬ç”µå½±èŠ‚å±•æ˜ åˆä½œå½±é™¢" />
    <style type="text/css">
      * {
        box-sizing: border-box;
        padding: 0;
        margin: 0;
        font-size: 14px;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI',
          Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue',
          sans-serif;
      }
      .main {
        display: flex;
        height: 100vh;
        width: 100vw;
      }
      #container {
        height: 100vh;
        width: 100vw;
      }
      .sidebar {
        padding: 10px;
        z-index: 100;
        position: absolute;
        background: rgba(0, 0, 0, 0.8);
        color: #fff;
      }
      .sidebar > * {
        margin-bottom: 0.6em;
      }
      a {
        color: #fff;
      }
      ul {
        list-style-position: inside;
      }
    </style>
    <title>2023åŒ—äº¬ç”µå½±èŠ‚å±•æ˜ åˆä½œå½±é™¢</title>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
  </head>
  <body>
    <script
      type="text/javascript"
      src="https://api.map.baidu.com/api?v=3.0&type=webgl&ak=VPwwNsZ35ESn2NurEvEgZ0p8YO104vsD"
    ></script>
    <div class="main">
      <div class="sidebar">
        <h1>2023å¹´åŒ—äº¬ç”µå½±èŠ‚å±•æ˜ åˆä½œå½±é™¢</h1>
        <ul>
          <li>ç‚¹å‡»æ ‡æ³¨ç‚¹ğŸ“å¯åœ¨ç™¾åº¦åœ°å›¾æ‰“å¼€</li>
          <li>ç¼©å°å¯æŸ¥çœ‹æ€€æŸ”åœ°åŒºçš„å½±é™¢</li>
          <li>å¥¥æ—åŒ¹å…‹å…¬å›­æœ‰ä¸¤å®¶é çš„å¾ˆè¿‘çš„å½±å…</li>
        </ul>
        <p>ç‚¹æˆ‘å…¨å±æŸ¥çœ‹</p>
        <p>
          <a target="_blank" href="https://www.bjiff.com/bjzy/zyyy/"
            >æ•°æ®æ¥æº(åŒ—å½±å®˜ç½‘)</a
          >
        </p>
        <p><a target="_blank" href="/">æ¬¢è¿è®¢é˜…èµ„æ–™é¦†ç”µå½±æ—¥å†</a></p>
      </div>
      <div id="container"></div>
    </div>

    <script>
      // sidebar
      document.querySelector('.sidebar').addEventListener('click', (e) => {
        if (e.target.tagName === 'A') return
        e.currentTarget.style.display = 'none'
        document.body.requestFullscreen()
      })
      document.addEventListener('fullscreenchange', (event) => {
        if (!document.fullscreenElement) {
          document.querySelector('.sidebar').style.display = 'block'
        }
      })

      var map = new BMapGL.Map('container')
      // 116.404, 39.915 å¸‚ä¸­å¿ƒ
      // 116.414901, 39.997431
      var point = new BMapGL.Point(116.414901, 39.997431)
      map.centerAndZoom(point, 12)
      map.enableScrollWheelZoom()

      function add_control() {
        var top_right_navigation = new BMapGL.NavigationControl({
          anchor: 1,
          type: 1,
        })
        map.addControl(top_right_navigation)
      }
      add_control()

      // å¤æ‚çš„è‡ªå®šä¹‰è¦†ç›–ç‰©
      function ComplexCustomOverlay(point, text, mouseoverText) {
        this._point = point
        this._text = text
        this._overText = mouseoverText
      }
      ComplexCustomOverlay.prototype = new BMapGL.Overlay()
      ComplexCustomOverlay.prototype.initialize = function (map) {
        this._map = map
        var div = (this._div = document.createElement('div'))
        div.style.position = 'absolute'
        div.style.zIndex = BMapGL.Overlay.getZIndex(this._point.lat)
        div.style.backgroundColor = 'rgb(255,0,0,0.5)'
        // div.style.border = '1px solid #BC3B3A'
        div.style.color = 'white'
        // div.style.height = '18px'
        div.style.padding = '2px'
        div.style.lineHeight = '18px'
        div.style.whiteSpace = 'nowrap'
        div.style.MozUserSelect = 'none'
        div.style.fontSize = '12px'
        var span = (this._span = document.createElement('span'))
        div.appendChild(span)
        span.appendChild(document.createTextNode(this._text))
        var that = this

        var arrow = (this._arrow = document.createElement('div'))
        arrow.style.background =
          'url(//map.baidu.com/fwmap/upload/r/map/fwmap/static/house/images/label.png) no-repeat'
        arrow.style.position = 'absolute'
        arrow.style.width = '11px'
        arrow.style.height = '10px'
        arrow.style.top = '22px'
        arrow.style.left = '10px'
        arrow.style.overflow = 'hidden'
        div.appendChild(arrow)

        div.onmouseover = function () {
          this.style.backgroundColor = '#6BADCA'
          this.style.borderColor = '#0000ff'
          this.getElementsByTagName('span')[0].innerHTML = that._overText
          arrow.style.backgroundPosition = '0px -20px'
        }

        div.onmouseout = function () {
          this.style.backgroundColor = '#EE5D5B'
          this.style.borderColor = '#BC3B3A'
          this.getElementsByTagName('span')[0].innerHTML = that._text
          arrow.style.backgroundPosition = '0px 0px'
        }

        map.getPanes().labelPane.appendChild(div)

        return div
      }
      ComplexCustomOverlay.prototype.draw = function () {
        var map = this._map
        var pixel = map.pointToOverlayPixel(this._point)
        this._div.style.left = pixel.x - parseInt(this._arrow.style.left) + 'px'
        this._div.style.top = pixel.y - 30 + 'px'
      }

      const cinemaList = [
        {
          name: 'ä¿åˆ©å›½é™…å½±åŸåŒ—äº¬å¤©å®‰é—¨åº—',
          address: 'åŒ—äº¬å¸‚è¥¿åŸåŒºå‰é—¨ç…¤å¸‚è¡—åŒ—äº¬åŠä¸œåŒºB2å±‚',
          point: [116.403923, 39.904604],
        },
        {
          name: 'æ¨ªåº—ç”µå½±åŸï¼ˆç‹åºœäº•åº—ï¼‰',
          address: 'åŒ—äº¬å¸‚ä¸œåŸåŒºç‹åºœäº•å¤§è¡—253å·8å±‚',
          point: [116.416866, 39.920324],
        },
        {
          name: 'å¢ç±³åŸƒåŒ—äº¬èŠ³è‰åœ°å½±åŸ',
          address: 'åŒ—äº¬å¸‚æœé˜³åŒºä¸œå¤§æ¡¥è·¯9å·ä¾¨ç¦èŠ³è‰åœ°å¤§å¦LG2-26',
          point: [116.45624, 39.925246],
        },
        {
          name: 'åŒ—äº¬ACEå½±åŸï¼ˆåæ²™LUXEåº—ï¼‰',
          address: 'åŒ—äº¬å¸‚é¡ºä¹‰åŒºåæ²™å³ªé•‡å®‰å¹³è¡—äº”å·é™¢1å·æ¥¼å››å±‚ACEå½±åŸ',
          point: [116.565512, 40.124905],
        },
        {
          name: 'ç¯çƒåŸå¸‚å¤§é“ç”µå½±é™¢',
          address: 'åŒ—äº¬å¸‚é€šå·åŒºç¯çƒå¤§é“1å·é™¢åŒ—äº¬ç¯çƒåŸå¸‚å¤§é“RE-02',
          point: [116.683251, 39.856519],
        },
        {
          name: 'æ˜Ÿå…¸å½±åŸåŒ—äº¬æ€€æŸ”åº—',
          address: 'åŒ—äº¬å¸‚æ€€æŸ”åŒºå¼€æ”¾ä¸œè·¯13å·é™¢2å·æ¥¼1å±‚01',
          point: [116.657581, 40.330339],
        },
        {
          name: 'é¦–éƒ½ç”µå½±é™¢è¥¿å•åº—',
          address: 'åŒ—äº¬å¸‚è¥¿åŸåŒºè¥¿å•åŒ—å¤§è¡—ç”²131å·å¤§æ‚¦åŸå•†åœº10å±‚',
          point: [116.379308, 39.917015],
        },
        {
          name: 'ä¸­å½±å›½é™…å½±åŸï¼ˆå…šå²é¦†CINITYå½±é™¢ï¼‰',
          address: 'åŒ—äº¬å¸‚æœé˜³åŒºåŒ—è¾°ä¸œè·¯7å·B01M-99ã€B01-99å·',
          point: [116.404804, 40.011158],
        },
        {
          name: 'è‹±çš‡ç”µå½±åŸåŒ—äº¬è‹±çš‡é›†å›¢ä¸­å¿ƒåº—',
          address:
            'åŒ—äº¬å¸‚æœé˜³åŒºå»ºå¤–å¤§è¡—ä¸12å·è‹±çš‡é›†å›¢ä¸­å¿ƒB1å±‚108ã€B2Må±‚-209ã€B2å±‚-202',
          point: [116.451731, 39.913173],
        },
        {
          name: 'ä¸­å›½ç§‘å­¦æŠ€æœ¯é¦†å½±é™¢',
          address: 'åŒ—äº¬å¸‚æœé˜³åŒºåŒ—è¾°ä¸œè·¯5å·',
          point: [116.40504, 40.012384],
        },
        {
          name: 'ç¾å˜‰æ¬¢ä¹å½±åŸï¼ˆä¸‰é‡Œå±¯åº—ï¼‰',
          address: 'åŒ—äº¬å¸‚æœé˜³åŒºä¸‰é‡Œå±¯è·¯19å·å¤ªå¤é‡Œå—åŒºLGå±‚-SLG18',
          point: [116.460876, 39.940148],
        },
        {
          name: 'ä¸‡è±¡å½±åŸï¼ˆåŒ—äº¬ä¸½æ³½å¤©è¡—æœæ¯”å½±é™¢ï¼‰',
          address: 'åŒ—äº¬å¸‚ä¸°å°åŒºé¦–åˆ›é¾™æ¹–ä¸½æ³½å¤©è¡—4å±‚ä¸‡è±¡å½±åŸ',
          point: [116.34121, 39.87198],
        },
        {
          name: 'åŒ—äº¬è€€è±æˆé¾™å›½é™…å½±åŸï¼ˆæ…ˆäº‘å¯ºåº—ï¼‰',
          address: 'åŒ—äº¬å¸‚æœé˜³åŒºæ…ˆäº‘å¯ºå…«é‡Œåº„åŒ—é‡Œ209å·æœªæ¥æ±‡ä¸‰å±‚',
          point: [116.498712, 39.922146],
        },
        {
          name: 'çº¢å‰§åœº',
          address: 'åŒ—äº¬å¸‚ä¸œåŸåŒºå¹¸ç¦å¤§è¡—44å·',
          point: [116.438603, 39.891659],
        },
        {
          name: 'ç™¾è€æ±‡ç”µå½±ä¸­å¿ƒï¼ˆä¸‡å›½åŸåº—ï¼‰',
          address: 'åŒ—äº¬å¸‚ä¸œåŸåŒºä¸œç›´é—¨é¦™æ²³å›­è·¯1å·é™¢åŒ—åŒºT4åº§',
          point: [116.44467, 39.956502],
        },
        {
          name: 'åŒ—äº¬åœ°è´¨ç¤¼å ‚',
          address: 'åŒ—äº¬å¸‚è¥¿åŸåŒºè¥¿å››ç¾Šè‚‰èƒ¡åŒä¸‰åå·',
          point: [116.377759, 39.928618],
        },
        {
          name: 'åŒ—äº¬å¯°æ˜ å½±åŸåˆç”Ÿæ±‡åº—',
          address: 'åŒ—äº¬å¸‚æœé˜³åŒºè¥¿å¤§æœ›è·¯ç”²22å·æœé˜³åˆç”Ÿæ±‡5å±‚',
          point: [116.486251, 39.899828],
        },
        {
          name: 'åŒ—äº¬å‰§é™¢',
          address: 'åŒ—äº¬å¸‚æœé˜³åŒºå®‰æ…§é‡Œä¸‰åŒºåå·',
          point: [116.414901, 39.997431],
        },
        {
          name: 'åŒ—äº¬ä¸‡è¾¾å½±åŸ',
          address: 'åŒ—äº¬å¸‚æœé˜³åŒºå»ºå›½è·¯93å·ä¸‡è¾¾å¹¿åœºBåº§3å±‚',
          point: [116.47723, 39.914727],
        },
        {
          name: 'åŒ—äº¬ä¸‡è¾¾å½±åŸæ€€æŸ”åº—',
          address: 'åŒ—äº¬å¸‚æ€€æŸ”åŒºé¾™å±±è¡—é“åºœå‰è¥¿è¡—1å·ä¸‡è¾¾å¹¿åœº',
          point: [116.636605, 40.322634],
        },
        {
          name: 'å¢ç±³åŸƒå½±åŸï¼ˆé•¿æ¥¹å¤©è¡—IMAXåº—ï¼‰',
          address: 'åŒ—äº¬å¸‚æœé˜³åŒºæœé˜³åŒ—è·¯é•¿æ¥¹å¤©è¡—è´­ç‰©ä¸­å¿ƒä¸œåŒºäº”å±‚',
          point: [116.609348, 39.931047],
        },
        {
          name: 'å¤©å¹•æ–°å½©äº‘å›½é™…å½±åŸ',
          address: 'åŒ—äº¬å¸‚æµ·æ·€åŒºåŒ—ä¸‰ç¯ä¸­è·¯67å·',
          point: [116.374527, 39.974153],
        },
        {
          name: 'UMEå½±åŸï¼ˆåŒ—äº¬åæ˜Ÿåº—ï¼‰',
          address: 'åŒ—äº¬å¸‚æµ·æ·€åŒºä¸­å…³æ‘è¡—é“ç§‘å­¦é™¢å—è·¯44å·UMEå›½é™…å½±åŸï¼ˆåæ˜Ÿåº—ï¼‰',
          point: [116.332549, 39.973634],
        },
        {
          name: 'è‹±å˜‰å›½é™…å½±åŸ',
          address: 'åŒ—äº¬å¸‚æµ·æ·€åŒºè¿œå¤§è·¯1å·Eæ®µ5å±‚5501å·',
          point: [116.297529, 39.965323],
        },
        {
          name: 'ä¸­å›½ç”µå½±èµ„æ–™é¦†è‰ºæœ¯å½±é™¢',
          address: 'åŒ—äº¬å¸‚æµ·æ·€åŒºå°è¥¿å¤©æ–‡æ…§å›­è·¯3å·',
          point: [116.376471, 39.958857],
        },
        {
          name: 'ä¸­é—´å½±é™¢',
          address: 'åŒ—äº¬å¸‚æµ·æ·€åŒºæçŸ³å£è·¯ä¸­é—´è‰ºæœ¯å›­åŒºä¸­é—´å½±é™¢',
          point: [116.23753, 39.95936],
        },
      ]

      // âœ…æ§ä»¶
      // https://lbs.baidu.com/jsdemo3.0.htm#contrlv3-0

      // âœ…markeræ ‡è®°
      // https://lbs.baidu.com/jsdemo3.0.htm#js3_8

      // âœ…åœ°å›¾æ ‡è®°
      // https://lbs.baidu.com/jsdemo3.0.htm#inforwindowv3.0

      // âœ…æ–‡æœ¬æ ‡æ³¨
      // https://lbsyun.baidu.com/index.php?title=jspopularGL/guide/label

      cinemaList.forEach((cinema) => {
        // const myCompOverlay = new ComplexCustomOverlay(
        //   new BMapGL.Point(...cinema.point),
        //   cinema.name,
        //   cinema.address,
        // )
        // map.addOverlay(myCompOverlay)

        var point = new BMapGL.Point(...cinema.point)
        var marker = new BMapGL.Marker(point)
        map.addOverlay(marker)
        var infoWindow = new BMapGL.InfoWindow(cinema.address, {
          width: 260, // ä¿¡æ¯çª—å£å®½åº¦
          height: 100, // ä¿¡æ¯çª—å£é«˜åº¦
          title: cinema.name, // ä¿¡æ¯çª—å£æ ‡é¢˜
          enableMessage: true, //è®¾ç½®å…è®¸ä¿¡æ¯çª—å‘é€çŸ­æ¯
          message: cinema.address,
        })

        var label = new BMapGL.Label(cinema.name, {
          position: point,
          offset: new BMapGL.Size(0, 0),
        })
        map.addOverlay(label)
        label.setStyle({
          color: 'rgba(255,255,255,0.9)',
          fontSize: '12px',
          backgroundColor: 'rgba(0,0,0,0.4)',
          borderRadius: '2px',
          transform: 'translate(-50%, 0px)',
          border: 'none',
        })

        // marker.addEventListener('hover', function () {})
        // marker.addEventListener('mouseover', function () {
        //   map.openInfoWindow(infoWindow, point)
        // })
        marker.addEventListener('click', function () {
          window.open(
            `http://api.map.baidu.com/marker?location=${cinema.point[1]},${cinema.point[0]}&title=${cinema.name}&content=${cinema.address}&output=html&src=movie.wind8866.top`,
          )
        })
      })
    </script>
  </body>
</html>
