<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <link rel="icon" href="logo.svg" />
    <meta name="description" content="2023åŒ—äº¬ç”µå½±èŠ‚å±•æ˜ åˆä½œå½±é™¢" />
    <style type="text/css">
      * {
        box-sizing: border-box;
        padding: 0;
        margin: 0;
        font-size: 14px;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI',
          Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue',
          sans-serif;
      }
      h1 {
        font-size: 18px;
      }
      .main {
        display: flex;
        height: 100vh;
        width: 100vw;
      }
      #container {
        height: 100vh;
        width: 100vw;
      }
      .sidebar {
        padding: 16px;
        z-index: 100;
        position: absolute;
        background: rgba(0, 0, 0, 0.7);
        color: #fff;
        /* background: rgba(255, 255, 255, 0.3);
        color: #000; */
        -webkit-backdrop-filter: blur(4px);
        backdrop-filter: blur(4px);
        border-bottom-right-radius: 10px;
      }
      .sidebar > * {
        margin-bottom: 0.6em;
      }
      a {
        color: #3198ff;
        text-decoration: none;
      }
      a:hover {
        color: #66b0fa;
      }
      ul,
      ol {
        list-style-position: inside;
        margin-bottom: 10px;
      }
      li {
        margin-bottom: 4px;
      }
      @media only screen and (min-width: 600px) {
        .mobile {
          display: none;
        }
      }
      @media only screen and (max-width: 600px) {
        .desktop {
          display: none;
        }
      }
    </style>
    <title>2023åŒ—äº¬ç”µå½±èŠ‚å±•æ˜ åˆä½œå½±é™¢</title>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <script>
      var _hmt = _hmt || []
      ;(function () {
        var hm = document.createElement('script')
        hm.src = 'https://hm.baidu.com/hm.js?9ae919aff4ce92f05cafa9a255d6fb4a'
        var s = document.getElementsByTagName('script')[0]
        s.parentNode.insertBefore(hm, s)
      })()
    </script>
  </head>
  <body>
    <script
      type="text/javascript"
      src="https://api.map.baidu.com/api?v=3.0&type=webgl&ak=VPwwNsZ35ESn2NurEvEgZ0p8YO104vsD"
    ></script>
    <div class="main">
      <div class="sidebar">
        <h1>2023å¹´åŒ—äº¬ç”µå½±èŠ‚å±•æ˜ åˆä½œå½±é™¢</h1>
        <ol>
          <li>ç‚¹å‡»æ ‡æ³¨ç‚¹ğŸ“å¯åœ¨ç™¾åº¦åœ°å›¾æ‰“å¼€å¹¶å¯¼èˆª</li>
          <li>é¡ºä¹‰1å®¶/æ€€æŸ”2å®¶/ç¯çƒåº¦å‡åŒº1å®¶ï¼Œç¼©å°æŸ¥çœ‹</li>
          <li>å¥¥æ—åŒ¹å…‹å…¬å›­æœ‰ä¸¤å®¶é çš„å¾ˆè¿‘</li>
          <li>
            ä¹°ç¥¨å°½é‡é¿å¼€å‰§é™¢ã€ç¤¼å ‚
            <a
              target="_blank"
              href="https://www.douban.com/group/topic/286015287/#sep?_i=0445959EOdLjT2"
              >åŸå› </a
            >
          </li>
          <li>æ›´æ–°æ—¶é—´ï¼š2023/04/14 12:00</li>
          <li>
            <span class="desktop">ç‚¹æˆ‘å…¨å±æŸ¥çœ‹</span>
            <span class="mobile">ç‚¹æˆ‘å…³é—­æç¤º</span>
          </li>
        </ol>
        <p>
          <a
            target="_blank"
            href="https://mt-m.maoyan.com/mtrade/film-festival/home"
            >æ•°æ®æ¥æº(çŒ«çœ¼)</a
          >
        </p>
        <p><a href="/">æ¬¢è¿è®¢é˜…èµ„æ–™é¦†ç”µå½±æ—¥å†ğŸ“…</a></p>
      </div>
      <div id="container"></div>
    </div>

    <script>
      // sidebar
      document.querySelector('.sidebar').addEventListener('click', (e) => {
        if (e.target.tagName === 'A') return
        e.currentTarget.style.display = 'none'
        document.body.requestFullscreen()
      })
      document.addEventListener('fullscreenchange', (event) => {
        if (!document.fullscreenElement) {
          document.querySelector('.sidebar').style.display = 'block'
        }
      })

      var map = new BMapGL.Map('container')
      // 116.404, 39.915 å¸‚ä¸­å¿ƒ
      // 116.414901, 39.997431
      var point = new BMapGL.Point(116.414901, 39.997431)
      map.centerAndZoom(point, 12)
      map.enableScrollWheelZoom()

      function add_control() {
        var top_right_navigation = new BMapGL.NavigationControl({
          anchor: 1,
          type: 1,
        })
        map.addControl(top_right_navigation)
      }
      add_control()

      // å¤æ‚çš„è‡ªå®šä¹‰è¦†ç›–ç‰©
      function ComplexCustomOverlay(point, text, mouseoverText) {
        this._point = point
        this._text = text
        this._overText = mouseoverText
      }
      ComplexCustomOverlay.prototype = new BMapGL.Overlay()
      ComplexCustomOverlay.prototype.initialize = function (map) {
        this._map = map
        var div = (this._div = document.createElement('div'))
        div.style.position = 'absolute'
        div.style.zIndex = BMapGL.Overlay.getZIndex(this._point.lat)
        div.style.backgroundColor = 'rgb(255,0,0,0.5)'
        // div.style.border = '1px solid #BC3B3A'
        div.style.color = 'white'
        // div.style.height = '18px'
        div.style.padding = '2px'
        div.style.lineHeight = '18px'
        div.style.whiteSpace = 'nowrap'
        div.style.MozUserSelect = 'none'
        div.style.fontSize = '12px'
        var span = (this._span = document.createElement('span'))
        div.appendChild(span)
        span.appendChild(document.createTextNode(this._text))
        var that = this

        var arrow = (this._arrow = document.createElement('div'))
        arrow.style.background =
          'url(//map.baidu.com/fwmap/upload/r/map/fwmap/static/house/images/label.png) no-repeat'
        arrow.style.position = 'absolute'
        arrow.style.width = '11px'
        arrow.style.height = '10px'
        arrow.style.top = '22px'
        arrow.style.left = '10px'
        arrow.style.overflow = 'hidden'
        div.appendChild(arrow)

        div.onmouseover = function () {
          this.style.backgroundColor = '#6BADCA'
          this.style.borderColor = '#0000ff'
          this.getElementsByTagName('span')[0].innerHTML = that._overText
          arrow.style.backgroundPosition = '0px -20px'
        }

        div.onmouseout = function () {
          this.style.backgroundColor = '#EE5D5B'
          this.style.borderColor = '#BC3B3A'
          this.getElementsByTagName('span')[0].innerHTML = that._text
          arrow.style.backgroundPosition = '0px 0px'
        }

        map.getPanes().labelPane.appendChild(div)

        return div
      }
      ComplexCustomOverlay.prototype.draw = function () {
        var map = this._map
        var pixel = map.pointToOverlayPixel(this._point)
        this._div.style.left = pixel.x - parseInt(this._arrow.style.left) + 'px'
        this._div.style.top = pixel.y - 30 + 'px'
      }

      const cinemaList = [
        {
          cinemaId: 9459,
          address: 'æçŸ³å£è·¯ä¸­é—´è‰ºæœ¯å›­åŒºå†…ï¼ˆä¸­é—´è‰ºæœ¯å›­åŒºå†…ï¼‰',
          name: 'ä¸­é—´å½±é™¢',
          point: [116.230835, 39.953663],
        },
        {
          cinemaId: 271,
          address: 'æ›™å…‰è¡—é“è¿œå¤§è·¯1å·é‡‘æºæ—¶ä»£è´­ç‰©ä¸­å¿ƒ5å±‚Eæ®µ5501å®¤',
          name: 'è‹±å˜‰å›½é™…å½±åŸï¼ˆé‡‘æºCINITYåº—ï¼‰',
          point: [116.291306, 39.95842],
        },
        {
          cinemaId: 155,
          address: 'åŒæ¦†æ ‘ç§‘å­¦é™¢å—è·¯44å·-3ï¼ˆåŒå®‰å•†åœºå¯¹é¢ï¼‰',
          name: 'UMEå½±åŸï¼ˆåæ˜ŸIMAXåº—ï¼‰',
          point: [116.326096, 39.967857],
        },
        {
          cinemaId: 40,
          address: 'å¥¥è¿æ‘è¡—é“åŒ—è¾°ä¸œè·¯5å·ä¸­å›½ç§‘æŠ€é¦†æ–°é¦†B1å±‚',
          name: 'ä¸­å›½ç§‘å­¦æŠ€æœ¯é¦†å½±é™¢',
          point: [116.39813, 40.005493],
        },
        {
          cinemaId: 36954,
          address: 'åŒ—è¾°ä¸œè·¯7å·å¤©å¤©ä¸­å½±æ±‡B1Må±‚ä¸­å½±å›½é™…å½±åŸï¼ˆå…šå²é¦†å½±é™¢ï¼‰',
          name: 'ä¸­å½±å›½é™…å½±åŸï¼ˆå…šå²é¦†CINITYå½±é™¢ï¼‰',
          point: [116.3984, 40.003418],
        },
        {
          cinemaId: 13003,
          address: 'èŠ±å›­è·¯è¡—é“åŒ—ä¸‰ç¯ä¸­è·¯67å·ä¸­è§†äº‘æŠ•å¤§å¦1-3å±‚',
          name: 'å¤©å¹•æ–°å½©äº‘å›½é™…å½±åŸï¼ˆæ¿€å…‰å·¨å¹•åº—ï¼‰',
          point: [116.3678, 39.969364],
        },
        {
          cinemaId: 248,
          address: 'äºšè¿æ‘è¡—é“å®‰æ…§é‡Œä¸‰åŒº10å·ï¼ˆè¿‘æ…§å¿ è·¯ï¼‰',
          name: 'åŒ—äº¬å‰§é™¢',
          point: [116.408485, 39.99109],
        },
        {
          cinemaId: 2010,
          address:
            'æ–‡æ…§å›­è·¯3å·ï¼ˆåŒ—äº¬å¸ˆèŒƒå¤§å­¦ã€æ«è“å›½é™…ã€ç§¯æ°´æ½­æ¡¥ã€ç¬¬äºŒç‚®å…µæ€»åŒ»é™¢ï¼‰',
          name: 'ä¸­å›½ç”µå½±èµ„æ–™é¦†è‰ºæœ¯å½±é™¢',
          point: [116.369844, 39.953045],
        },
        {
          cinemaId: 261,
          address: 'è¥¿å››ç¾Šè‚‰èƒ¡åŒ30å·ï¼ˆä¸­å›½åœ°è´¨åšç‰©é¦†å—ä¾§)',
          name: 'åŒ—äº¬åœ°è´¨ç¤¼å ‚',
          point: [116.371315, 39.922565],
        },
        {
          cinemaId: 149,
          address: 'è¥¿å•å¤§æ‚¦åŸF10',
          name: 'é¦–éƒ½ç”µå½±é™¢ï¼ˆè¥¿å•åº— LEDå·¨å¹•ï¼‰',
          point: [116.373085, 39.91081],
        },
        {
          cinemaId: 94,
          address: 'é¦™æ²³å›­è·¯1å·å½“ä»£MOMAåŒ—åŒºT4åº§ï¼ˆè¿‘ä¸œç›´é—¨å…¬äº¤æ¢çº½ï¼‰',
          name: 'ç™¾è€æ±‡ç”µå½±ä¸­å¿ƒï¼ˆä¸‡å›½åŸåº—ï¼‰',
          point: [116.43806, 39.950474],
        },
        {
          isFlag: true,
          cinemaId: 265,
          address: 'ä¸œä¸­è¡—9å·ä¸œç¯å¹¿åœºBåº§B1æ¥¼',
          name: 'æ–°å½±è”ä¸œç¯å½±åŸ',
          point: [116.43608, 39.936592],
        },
        {
          cinemaId: 79,
          address: 'ç‹åºœäº•å¤§è¡—255å·åŒ—äº¬å¸‚ç™¾è´§å¤§æ¥¼F8',
          name: 'æ¨ªåº—ç”µå½±åŸï¼ˆç‹åºœäº•åº—ï¼‰',
          point: [116.410385, 39.913975],
        },
        {
          isFlag: true,
          cinemaId: 122,
          address: 'é‡‘å®è¡—88å·é‡‘å®æ±‡è´­ç‰©ä¸­å¿ƒä¸€æœŸ7å±‚',
          name: 'æ–°å½±è”é‡‘å®å½±åŸ',
          point: [116.42134, 39.915367],
        },
        {
          cinemaId: 17023,
          address: 'ç…¤å¸‚è¡—å»Šæˆ¿å¤´æ¡äº¤å‰å£ä¸œåŒ—è§’åŒ—äº¬åŠä¸œåŒºB1-B2å±‚',
          name: 'ä¿åˆ©å›½é™…å½±åŸï¼ˆå¤©å®‰é—¨åº—ï¼‰',
          point: [116.39742, 39.89828],
        },
        {
          cinemaId: 136,
          address: 'ä¸‰é‡Œå±¯è¡—é“ä¸‰é‡Œå±¯è·¯19å·ä¸‰é‡Œå±¯å¤ªå¤é‡Œå—åŒºB1å±‚',
          name: 'ç¾å˜‰æ¬¢ä¹å½±åŸï¼ˆä¸‰é‡Œå±¯åº—ï¼‰',
          point: [116.45421, 39.93441],
        },
        {
          isFlag: true,
          cinemaId: 38694,
          address: 'å—æ™“é¡ºèƒ¡åŒ9å·',
          name: 'å—æ™“é¡ºç–å·',
          point: [116.40034, 39.89522],
        },
        {
          cinemaId: 36774,
          address: 'ä¸½æ³½å¤©è¡—4å±‚',
          name: 'ä¸‡è±¡å½±åŸï¼ˆåŒ—äº¬ä¸½æ³½å¤©è¡—æœæ¯”å½±é™¢ï¼‰',
          point: [116.334946, 39.865955],
        },
        {
          cinemaId: 5736,
          address: 'ä¸œå¤§æ¡¥è·¯9å·ä¾¨ç¦èŠ³è‰åœ°è´­ç‰©ä¸­å¿ƒLG2-26ï¼ˆå°šéƒ½SOHOå¯¹é¢ï¼‰',
          name: 'å¢ç±³åŸƒå½±åŸï¼ˆä¾¨ç¦èŠ³è‰åœ°åº—ï¼‰',
          point: [116.449646, 39.91956],
        },
        {
          cinemaId: 25274,
          address: 'å»ºå›½é—¨å¤–å¤§è¡—ä¸12å·è‹±çš‡é›†å›¢ä¸­å¿ƒB1å±‚',
          name: 'è‹±çš‡ç”µå½±åŸï¼ˆè‹±çš‡é›†å›¢ä¸­å¿ƒåº—ï¼‰',
          point: [116.44493, 39.90757],
        },
        {
          cinemaId: 37726,
          address: 'å¹¸ç¦å¤§è¡—44å·',
          name: 'å¹¸ç¦çº¢å‰§åœº',
          point: [116.43217, 39.885685],
        },
        {
          cinemaId: 264,
          address: 'å»ºå›½è·¯93å·ä¸‡è¾¾å¹¿åœºBåº§3å±‚',
          name: 'ä¸‡è¾¾å½±åŸï¼ˆCBDä¸‡è¾¾å¹¿åœºåº—ï¼‰',
          point: [116.470634, 39.909275],
        },
        {
          cinemaId: 9730,
          address: 'æœé˜³è·¯æ…ˆäº‘å¯ºåŒ—é‡Œ209å·è¿œæ´‹æœªæ¥æ±‡3å±‚',
          name: 'è€€è±æˆé¾™å½±åŸï¼ˆæ…ˆäº‘å¯ºåº—ï¼‰',
          point: [116.492424, 39.916153],
        },
        {
          cinemaId: 24573,
          address: 'è¥¿å¤§æœ›è·¯ç”²22å·é™¢1å·æ¥¼å•†ä¸šéƒ¨åˆ†5å±‚11/12å·',
          name: 'å¯°æ˜ å½±åŸï¼ˆåˆç”Ÿæ±‡åº—ï¼‰',
          point: [116.48011, 39.894238],
        },
        {
          cinemaId: 26537,
          address: 'åæ²™å³ªå®‰å¹³è¡—5å·é™¢å›½é—¨ä¸€å·å›½é™…é¦†1å·æ¥¼å››å±‚',
          name: 'åŒ—äº¬ACEå½±åŸï¼ˆåæ²™LUXEåº—ï¼‰',
          point: [116.559265, 40.119118],
        },
        {
          cinemaId: 13204,
          address: 'æœé˜³åŒ—è·¯é•¿æ¥¹å¤©è¡—è´­ç‰©ä¸­å¿ƒä¸œåŒº5F-09',
          name: 'å¢ç±³åŸƒå½±åŸï¼ˆé•¿æ¥¹å¤©è¡—IMAXåº—ï¼‰',
          point: [116.60287, 39.925076],
        },
        {
          cinemaId: 24662,
          address: 'åºœå‰è¥¿è¡—1å·é™¢1å·æ¥¼ä¸‡è¾¾å¹¿åœº7å±‚',
          name: 'ä¸‡è¾¾å½±åŸï¼ˆæ€€æŸ”ä¸‡è¾¾å¹¿åœºåº—ï¼‰',
          point: [116.63021, 40.316402],
        },
        {
          cinemaId: 36729,
          address: 'ç¯çƒå¤§é“1å·é™¢åŒ—äº¬ç¯çƒåŸå¸‚å¤§é“RE-02',
          name: 'ç¯çƒåŸå¸‚å¤§é“ç”µå½±é™¢',
          point: [116.6767, 39.850636],
        },
        {
          cinemaId: 37399,
          address: 'å¼€æ”¾ä¸œè·¯13å·é™¢2å·æ¥¼1å±‚01æ˜Ÿä¸œå¤©åœ°è´­ç‰©å¹¿åœº',
          name: 'æ˜Ÿå…¸å½±åŸï¼ˆæ€€æŸ”åº—ï¼‰',
          point: [116.65158, 40.32348],
        },
      ]

      // âœ…æ§ä»¶
      // https://lbs.baidu.com/jsdemo3.0.htm#contrlv3-0

      // âœ…markeræ ‡è®°
      // https://lbs.baidu.com/jsdemo3.0.htm#js3_8

      // âœ…åœ°å›¾æ ‡è®°
      // https://lbs.baidu.com/jsdemo3.0.htm#inforwindowv3.0

      // âœ…æ–‡æœ¬æ ‡æ³¨
      // https://lbsyun.baidu.com/index.php?title=jspopularGL/guide/label

      cinemaList.forEach((cinema) => {
        // const myCompOverlay = new ComplexCustomOverlay(
        //   new BMapGL.Point(...cinema.point),
        //   cinema.name,
        //   cinema.address,
        // )
        // map.addOverlay(myCompOverlay)

        var point = new BMapGL.Point(
          cinema.point[0] + 0.006, // ç™¾åº¦åœ°å›¾ä¸è…¾è®¯åœ°å›¾çš„åå·®
          cinema.point[1] + 0.006,
        )
        var marker = new BMapGL.Marker(point)
        map.addOverlay(marker)
        var infoWindow = new BMapGL.InfoWindow(cinema.address, {
          width: 260, // ä¿¡æ¯çª—å£å®½åº¦
          height: 100, // ä¿¡æ¯çª—å£é«˜åº¦
          title: cinema.name, // ä¿¡æ¯çª—å£æ ‡é¢˜
          enableMessage: true, //è®¾ç½®å…è®¸ä¿¡æ¯çª—å‘é€çŸ­æ¯
          message: cinema.address,
        })

        var label = new BMapGL.Label(cinema.name, {
          position: point,
          offset: new BMapGL.Size(0, 0),
        })
        map.addOverlay(label)
        label.setStyle({
          color: 'rgba(255,255,255,0.9)',
          fontSize: '12px',
          backgroundColor: 'rgba(0,0,0,0.4)',
          borderRadius: '2px',
          transform: 'translate(-50%, 0px)',
          border: 'none',
        })
        // marker.addEventListener('hover', function () {})
        // marker.addEventListener('mouseover', function () {
        //   map.openInfoWindow(infoWindow, point)
        // })
        marker.addEventListener('click', function () {
          window.open(
            `http://api.map.baidu.com/marker?location=${cinema.point[1]},${cinema.point[0]}&title=${cinema.name}&content=${cinema.address}&output=html&src=movie.wind8866.top`,
          )
        })
      })
    </script>
  </body>
</html>
